!function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=17)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IsMobileDevice=function(){return navigator&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},t.emitIframeEvent=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return window.parent.postMessage({type:e,data:t},"*")},t.IsWhatsAppPro=function(e){return e.labs.whatsapp_pro},t.GetWhatsAppProURL=function(e){return e.WHATSAPP_PRO_URL_POST||e.WHATSAPP_URL_POST}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=t.createCORSRequest=function(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest,n.open(e,t)):n=null,n};t.Get=function(e){return new Promise(function(t,n){var o=a("GET",e);o.setRequestHeader("Accept","application/json"),o.send(),o.onreadystatechange=function(){4===o.readyState&&(200===o.status?t(o.response):n(o.response))}})},t.Post=function(e,t){return new Promise(function(n,o){var i=a("POST",e);i.setRequestHeader("Content-type","application/json"),i.setRequestHeader("Accept","application/json"),i.onreadystatechange=function(){4===i.readyState&&(200===i.status?n(i.response):o(i.response))},i.send(JSON.stringify(t))})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object({NODE_ENV:"production"}).NPM_CONFIG_NODE_ENV||"development",o={development:{gaTracker:"UA-28791515-1",phoneValidationUrl:"https://chatbot-format-phone.herokuapp.com/api/formatphone"},stage:{gaTracker:"UA-28791515-1",phoneValidationUrl:"https://chatbot-format-phone.herokuapp.com/api/formatphone"},production:{gaTracker:"UA-28791515-1",phoneValidationUrl:"https://chatbot-format-phone.herokuapp.com/api/formatphone"}};t.default=o[a]},,,,,,,,,,,,,,function(e,t,n){e.exports=n(18)},function(e,t,n){"use strict";var a=n(19),o=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(o),r=n(20),s=n(1),d=n(0);!function(){var e=!1,t=n(21),o=n(22);window.fireNewWspLeadPixels=function(){if(ldkWSP.conversionPixelHtml){var e=document.createRange();e.setStart(document.body,0),document.body.appendChild(e.createContextualFragment(ldkWSP.conversionPixelHtml))}},window.initWspGA=function(t){if(t.labs.disable_ga)return void(e=!0);"undefined"==typeof ga&&((0,a.loadGoogleAnalytics)(),console.log("loadGoogleAnalytics")),t.googleAnalyticsId&&ga("create",t.googleAnalyticsId,"auto"),ga("create",i.default.gaTracker,"auto",{name:"leadakiTracker"}),ga("leadakiTracker.send","pageview","/cliente/"+t.companyId+"/siteless/"+t.websiteId+"/"+encodeURIComponent(window.location.href))},window.trackWspGAEvent=function(t){e||(0,a.trackGAEvent)(t)},function(){function e(e){var t=n(e);return t?"&"+e+"="+t:""}function n(e){return decodeURIComponent((new RegExp("[?|&]"+e+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function a(e){switch(e.type){case"WSP_OPEN":S=g,t.controlParentPage(),l(_,"ldkwsp-collapsed-height"),c(_,"ldkwsp-expanded-height"),P.style.zIndex=(parseInt(P.style.zIndex)+1).toString();break;case"WSP_CLOSE":S=m,t.returnControlToParentPage(),_.style.width=O(),l(_,"ldkwsp-expanded-height"),c(_,"ldkwsp-collapsed-height"),P.style.zIndex=(parseInt(P.style.zIndex)-1).toString();break;case"WSP_READY":P.style.display="block",_.style.height="86px",_.style.width=O();var n={type:"WSP_CONFIGS",data:JSON.stringify(I)};_.contentWindow.postMessage(n,"*");break;case"WSP_GA_INIT":initWspGA(e.data);break;case"WSP_GA_TRACK_EVENT":trackWspGAEvent(e.data);break;case"WSP_POST_LEAD":A(e.data);break;case"WSP_IPINFO_REQUEST":b()}}function i(e,t){return e.classList?e.classList.contains(t):!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))}function c(e,t){e.classList?e.classList.add(t):i(e,t)||(e.className+=" "+t)}function l(e,t){if(e.classList)e.classList.remove(t);else if(i(e,t)){var n=new RegExp("(\\s|^)"+t+"(\\s|$)");e.className=e.className.replace(n," ")}}console.log("Main WhatsApp loaded");var u=window.addEventListener?"addEventListener":"attachEvent",p=window[u],h="attachEvent"===u?"onmessage":"message",m="widget_closed",g="widget_open",f=document.querySelector("#mainWsp"),w=f.getAttribute("data-company-id"),v=f.getAttribute("data-source-id"),y=f.getAttribute("data-host"),k=void 0,x=void 0,P=void 0,_=void 0,S=m,E=o.buildChatLayout(w,v,y,window.Cliengo||{});document.body.appendChild(E.mainDiv),P=E.mainDiv,_=E.wspIframe;var b=function(){try{(0,s.Get)("https://ipinfo.io").then(function(e){_.contentWindow.postMessage({type:"WSP_IPINFO",data:e},"*")},function(e){_.contentWindow.postMessage({type:"WSP_IPINFO",data:JSON.stringify({error:e})},"*")})}catch(e){_.contentWindow.postMessage({type:"WSP_IPINFO",data:JSON.stringify({error:e})},"*")}},A=function(e){var t=e.postUrl,n=e.body,a=(0,s.createCORSRequest)("POST",t);a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.onreadystatechange=function(){4!==this.readyState||!/20/.test(this.status)&&226!==this.status||420===this.status||520===this.status?4===this.readyState&&_.contentWindow.postMessage({type:"WSP_LEAD_FAILED"},"*"):(fireNewWspLeadPixels(),trackWspGAEvent({category:"WhatsApp",action:"Conversion"}),_.contentWindow.postMessage({type:"WSP_LEAD_CREATED",data:this.responseText},"*"))},a.send(n)};if(null===(0,r.readCookie)("ldkRefererTracking")&&(0,r.createCookie)("ldkRefererTracking",document.referrer?document.referrer:"direct",240),-1!==location.search.indexOf("utm_")||-1!==location.search.indexOf("gclid")){var W="";W+=e("utm_source"),W+=e("utm_medium"),W+=e("utm_term"),W+=e("utm_content"),W+=e("utm_campaign"),W+=e("utm_adgroup"),W+=e("gclid"),(0,r.createCookie)("ldkUtms",W,240)}k=(0,r.readCookie)("ldkRefererTracking"),x=(0,r.readCookie)("ldkUtms");var I=window.cliengoCustoms?window.cliengoCustoms:{};I.ldkRefererTracking=k,I.ldkUtms=x,I.searchParams=window.location.search,I.url=document.URL,I.ldkWSP=window.ldkWSP,p(h,function(e){a(e[e.message?"message":"data"])},!1);var O=function(){var e="115px";return"EXTENDED"!==window.ldkWSP.desktop_version||(0,d.IsMobileDevice)()||(e="800px"),e}}()}()},function(e,t,n){"use strict";function a(){!function(e,t,n,a,o,i,r){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),r=t.getElementsByTagName(n)[0],i.async=1,i.src="//www.google-analytics.com/analytics.js",r.parentNode.insertBefore(i,r)}(window,document,"script",0,"ga")}function o(e){var t=e.category,n=e.action,a=e.label,o=e.value;if(window.gtag&&window.gtag("event",n,{event_category:t,event_label:a,value:o}),window.gaq&&gaq.push(["_trackEvent",t,n,a,o]),window._gaq&&_gaq.push(["_trackEvent",t,n,a,o]),window.ga){ga("leadakiTracker.send","event",t,n,a,o,{nonInteraction:!0}),ga("send","event",t,n,a,o,{nonInteraction:!0});try{for(var i=ga.getAll(),r=i.length;r--;){var s=i[r].get("name");s.startsWith("gtm")&&ga(s+".send","event",t,n,a,o)}}catch(e){}}window.dataLayer&&dataLayer.push({event:n}),window.hj&&hj("tagRecording",[t,n])}Object.defineProperty(t,"__esModule",{value:!0}),t.loadGoogleAnalytics=a,t.trackGAEvent=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readCookie=function(e){for(var t=e+"=",n=document.cookie.split(";"),a=0;a<n.length;a++){for(var o=n[a];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return null},t.createCookie=function(e,t,n){var a="";if(n){var o=new Date;o.setTime(o.getTime()+60*n*1e3),a="; expires="+o.toGMTString()}document.cookie=e+"="+t+a+"; path=;SameSite=None; Secure"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=void 0,o=function(){var e=document.createElement("meta");e.id="viewport",e.name="viewport",e.content="width=device-width, initial-scale=1",document.getElementsByTagName("head")[0].appendChild(e)},i=function(){var e=document.querySelector("head").querySelector("[name=viewport]");a=e.content},r=function(e){document.querySelector("head").querySelector("[name=viewport]").content=e},s=function(){var e=document.querySelector("head");e.removeChild(e.querySelector("[name=viewport]"))};t.controlParentPage=function(){document.querySelector("head").querySelector("[name=viewport]")?(i(),r("width=device-width, initial-scale=1")):o()},t.returnControlToParentPage=function(){return a?r(a):s()}},function(e,t,n){"use strict";function a(e){function t(e){e.stopPropagation()}e.addEventListener("scroll",t),e.addEventListener("resize",t),e.addEventListener("touchstart",t),e.addEventListener("touchmove",t),e.addEventListener("touchend",t),e.addEventListener("touchcancel",t),e.addEventListener("touchforcechange",t),e.addEventListener("gesturestart",t),e.addEventListener("gesturechange",t),e.addEventListener("gestureend",t)}function o(e,t,n){var o=n||"https://whatsapp-btn.herokuapp.com",i=document.querySelector('div[id="clgo-wsp"]'),s=i||document.createElement("div");s.innerHTML="",s.id="clgo-wsp";for(var d in r.default.mainDiv)s.style[d]=r.default.mainDiv[d];var c=document.createElement("style");c.innerHTML="\n        .ldkwsp-window-active {\n            overflow: hidden;\n            height: 100%;\n            width: 100%;\n            position: fixed\n        }\n\n        .ldkwsp-collapsed-height {\n            height: 86px !important;\n            right: 15px !important;\n            display: block !important;\n        }\n\n        .ldkwsp-expanded-height {\n            max-width: 100% !important;\n            width: 100% !important;\n            height: 100% !important;\n            max-height: 100vh;\n            right: 0 !important;\n            transition: height 600ms;\n        }\n        \n        @media (max-width: 767px) {\n            .ldkwsp-window-active {\n                overflow: hidden;\n                height: 100%;\n                width: 100%;\n                position: fixed\n            }\n        }\n\n        @media (min-width: 768px) {\n            .ldkwsp-expanded-height {\n                max-width: 320px !important;\n                height: 80% !important; \n                right: 15px !important;\n                border-radius: 7px 7px 0 0;\n            }\n        }\n\n        @media (min-width: 992px) {\n            .ldkwsp-expanded-height {\n                max-width: 320px !important;\n                height: 475px !important;\n                right: 15px !important;\n                border-radius: 7px 7px 0 0;\n            }\n        }\n    ",document.head.appendChild(c);var l={id:"wspIframe",src:o+"/iframe.html",className:"ldkwsp-collapsed-height"},u=function(e,t,n){var a=document.createElement("iframe");a.ALLOWTRANSPARENCY=!0,a.allowtransparency=!0,a.allowFullScreen=!0,a.allowFullscreen=!0,a.title="Cliengo Widget WhatsApp";for(var o in e)a[o]=e[o];for(var i in t)a.style[i]=t[i];return"function"==typeof a.mozRequestFullScreen&&a.mozRequestFullScreen(),"function"==typeof a.webkitRequestFullScreen&&a.webkitRequestFullScreen(),n.appendChild(a),a}(l,r.default.wspIframe,s);return a(u),{mainDiv:s,wspIframe:u}}var i=n(23),r=function(e){return e&&e.__esModule?e:{default:e}}(i);e.exports={buildChatLayout:o}},function(e,t,n){"use strict";e.exports={mainDiv:{position:"fixed",bottom:0,display:"none",height:"1px",width:"1px",zIndex:"9999997"},wspIframe:{zIndex:"1999999",backgroundColor:"transparent",border:"none",width:"1px",height:"1px",maxWidth:"260px",position:"fixed",left:"0",bottom:"0"}}}]);